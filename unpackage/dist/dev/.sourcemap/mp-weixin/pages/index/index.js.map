{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/zhangjing/Documents/HBuilderProjects/小程序组件-canvas拖拽组件示例/pages/index/index.vue?f01c","webpack:///C:/Users/zhangjing/Documents/HBuilderProjects/小程序组件-canvas拖拽组件示例/pages/index/index.vue?8913","webpack:///C:/Users/zhangjing/Documents/HBuilderProjects/小程序组件-canvas拖拽组件示例/pages/index/index.vue?5f44","uni-app:///pages/index/index.vue","webpack:///C:/Users/zhangjing/Documents/HBuilderProjects/小程序组件-canvas拖拽组件示例/pages/index/index.vue?acb4","webpack:///C:/Users/zhangjing/Documents/HBuilderProjects/小程序组件-canvas拖拽组件示例/pages/index/index.vue?e5ba"],"names":["createPage","Page"],"mappings":";;;;;;;;;;;;;;;;;;;;;;kDAAA;AACA;AACA,4F;AACAA,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACoM;AACpM,gBAAgB,yMAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA0vB,CAAgB,2vBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqB9wB;AACA,MADA,kBACA;AACA;AACA,eADA;AAEA,kBAFA;;AAIA,GANA;;AAQA;AACA,0BADA,EARA;;AAWA,WAXA;AAYA;AACA;;;AAGA,aAJA,uBAIA;AACA;AACA;AACA,gBADA;AAEA,gBAFA;AAGA,uBAHA;AAIA,sIAJA,EADA;;;AAQA,KAbA;;AAeA;;;AAGA,cAlBA,wBAkBA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,oBAFA;AAGA,2BAHA;AAIA,uCAJA,EADA;;;AAQA,SAVA;;AAYA,KA/BA;;AAiCA;;;AAGA,aApCA,uBAoCA;AACA;AACA;AACA,sBADA;AAEA,4BAFA,EADA;;;AAMA,KA3CA;;AA6CA;;;AAGA,YAhDA,sBAgDA;AACA;AACA;AACA;AACA,0BADA;;AAGA,OALA,EAKA,KALA,CAKA;AACA;AACA,OAPA;AAQA,KAzDA;;AA2DA;;;AAGA,iBA9DA,2BA8DA;AACA;AACA,KAhEA;;AAkEA;;;AAGA,mBArEA,6BAqEA;AACA;AACA,KAvEA;;AAyEA;;;AAGA,mBA5EA,6BA4EA;AACA;AACA,KA9EA;;AAgFA;;;AAGA,gBAnFA,0BAmFA;AACA;AACA;AACA,OAFA,EAEA,KAFA,CAEA;AACA;AACA,OAJA;AAKA,KAzFA;;AA2FA,YA3FA,sBA2FA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,+CAFA;AAGA,gBAHA;AAIA,eAJA;AAKA,gBALA;AAMA,gBANA;AAOA,mBAPA;AAQA,wBARA;AASA;AACA,sBADA;AAEA,4BAFA;AAGA,uBAHA;AAIA,sBAJA;AAKA,gBALA;AAMA,eANA;AAOA,mBAPA,EATA;;AAkBA;AACA,KAlHA;;AAoHA;AACA;;AAEA;AACA,sBADA;;;AAIA;AACA,KA5HA;AA6HA;AACA;AACA,KA/HA,EAZA,E;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAA0kC,CAAgB,wiCAAG,EAAC,C;;;;;;;;;;ACA9lC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<canvas-drag ref=\"canvasRef\" id=\"canvas-drag\" :graph=\"graph\" width=\"700\" height=\"750\" enableUndo=\"true\"></canvas-drag>\r\n\t\t<view class=\"btn\" @tap=\"onAddImage\">添加图片</view>\r\n\t\t<view class=\"btn\" @tap=\"onAddTest\">添加测试图片</view>\r\n\t\t<view class=\"btn\" @tap=\"onAddText\">添加文字</view>\r\n\t\t<view class=\"btn\" @tap=\"onExport\">导出图片</view>\r\n\t\t<view class=\"btn\" @tap=\"onChangeColor\">改变文字颜色</view>\r\n\t\t<view class=\"btn\" @tap=\"onChangeBgColor\">改变背景颜色</view>\r\n\t\t<view class=\"btn\" @tap=\"onChangeBgImage\">改变背景照片</view>\r\n\t\t<view class=\"btn\" @tap=\"onExportJSON\">导出模板</view>\r\n\t\t<view class=\"btn\" @tap=\"onImport\">导入默认模板</view>\r\n\t\t<view class=\"btn\" @tap=\"onClearCanvas\">清空画布</view>\r\n\t\t<view class=\"btn\" @tap=\"onUndo\">后退</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n//index.js\r\nimport canvasDrag from \"@/components/canvas-drag/index\";\r\n\r\nexport default {\n  data() {\n    return {\n      graph: {},\n      canvasBg: \"\"\n    };\n  },\n\n  components: {\n    canvasDrag\n  },\n  props: {},\n  methods: {\n    /**\r\n     * 添加测试图片\r\n     */\n    onAddTest() {\n      this.setData({\n        graph: {\n          w: 120,\n          h: 120,\n          type: 'image',\n          url: \"http://127.0.0.1:24520/tmp/touristappid.o6zAJs66DkGJ2-RKuH4L91D9AkQc.G6AoS7UU8d7Udf5fb49f091fd6fde3a6467239504433.png\"\n        }\n      });\n    },\n\n    /**\r\n     * 添加图片\r\n     */\n    onAddImage() {\n      wx.chooseImage({\n        success: res => {\n          this.setData({\n            graph: {\n              w: 200,\n              h: 200,\n              type: 'image',\n              url: res.tempFilePaths[0]\n            }\n          });\n        }\n      });\n    },\n\n    /**\r\n     * 添加文本\r\n     */\n    onAddText() {\n      this.setData({\n        graph: {\n          type: 'text',\n          text: 'helloworld'\n        }\n      });\n    },\n\n    /**\r\n     * 导出图片\r\n     */\n    onExport() {\n      this.$refs.canvasRef.export().then(filePath => {\n        console.log(filePath);\n        wx.previewImage({\n          urls: [filePath]\n        });\n      }).catch(e => {\n        console.error(e);\n      });\n    },\n\n    /**\r\n     * 改变文字颜色\r\n     */\n    onChangeColor() {\n      this.$refs.canvasRef.changColor('blue');\n    },\n\n    /**\r\n     * 改变背景颜色\r\n     */\n    onChangeBgColor() {\n      this.$refs.canvasRef.changeBgColor('yellow');\n    },\n\n    /**\r\n     * 改变背景照片\r\n     */\n    onChangeBgImage() {\r\n\t\tthis.$refs.canvasRef.changeBgImage(\"https://shuretest.51wephone.cn/uploads/banner/20191226/9b4cf3924a4f3d0058cb03a24522055b.jpg\")\n    },\n\n    /**\r\n     * 导出当前画布为模板\r\n     */\n    onExportJSON() {\n      this.$refs.canvasRef.exportFun().then(imgArr => {\n        console.log(JSON.stringify(imgArr));\n      }).catch(e => {\n        console.error(e);\n      });\n    },\n\n    onImport() {\n      // 有背景\n      // let temp_theme = [{\"type\":\"bgColor\",\"color\":\"yellow\"},{\"type\":\"image\",\"url\":\"../../assets/images/test.jpg\",\"y\":98.78423143832424,\"x\":143.78423143832424,\"w\":104.43153712335152,\"h\":104.43153712335152,\"rotate\":-12.58027482265038,\"sourceId\":null},{\"type\":\"text\",\"text\":\"helloworld\",\"color\":\"blue\",\"fontSize\":24.875030530031438,\"y\":242.56248473498428,\"x\":119.57012176513672,\"w\":116.73966979980469,\"h\":34.87503053003144,\"rotate\":8.873370699754087}];\n      // 无背景\n      let temp_theme = [{\n        \"type\": \"image\",\n        \"url\": \"/static/assets/images/test.jpg\",\n        \"y\": 103,\n        \"x\": 91,\n        \"w\": 120,\n        \"h\": 120,\n        \"rotate\": 0,\n        \"sourceId\": null\n      }, {\n        \"type\": \"text\",\n        \"text\": \"helloworld\",\n        \"color\": \"blue\",\n        \"fontSize\": 20,\n        \"y\": 243,\n        \"x\": 97,\n        \"rotate\": 0\n      }];\n      this.$refs.canvasRef.initByArr(temp_theme);\n    },\n\n    onClearCanvas: function (event) {\n      let _this = this;\n\n      _this.setData({\n        canvasBg: null\n      });\n\n      this.$refs.canvasRef.clearCanvas();\n    },\n    onUndo: function (event) {\n      this.$refs.canvasRef.undo();\n    }\n  }\n};\r\n</script>\r\n<style>\r\n@import \"./index.css\";\r\n</style>","import mod from \"-!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\软件\\\\HBuilderX.2.7.14.20200618\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594542189258\n      var cssReload = require(\"D:/软件/HBuilderX.2.7.14.20200618/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}